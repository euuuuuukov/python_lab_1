# Практическая работа №1

Вариант 1

# Работа с типами данных. Повторение базового уровня Python

## Цель работы
Провести глубокий анализ географических и временных характеристик городов в составе федеративного государства, используя инструменты Python для обработки данных, расчётов и выявления закономерностей. Исследовать роль неизменяемости данных в обеспечении целостности анализа.

## Задание	
1. Выберите страну с федеративным устройством, включающую не менее трёх республик или автономных субъектов (например, Россия, Индия, Нигерия, Малайзия). Добавьте карту с выбранными данными. Почему были именно они вызвали интерес к анализу?

_Давайте выберем Россию, пусть будут Свердловская область, республика Карелия и Приморский край. Эти республики вызвали у меня интерес к анализу, потому что это первое, что пришло мне в голову._ 

2. Для каждой из трёх республик выберите минимум по 5 городов, включая столицу республики.

- _Свердловская область: **[Екатеринбург](https://cooord.ru/coord/ru/ekaterinburg)**, [Реж](https://cooord.ru/coord/ru/rezh), [Артемовский](https://cooord.ru/coord/ru/artemovskiy), [Асбест](https://cooord.ru/coord/ru/asbest), [Березовский](https://cooord.ru/coord/ru/berezovskiy)._
- _Республика Карелия: **[Петрозаводск](https://cooord.ru/coord/ru/petrozavodsk)**, [Сегежа](https://cooord.ru/coord/ru/segezha), [Костомукша](https://cooord.ru/coord/ru/kostomuksha), [Медвежьегорск](https://cooord.ru/coord/ru/medvezhegorsk), [Кондопога](https://cooord.ru/coord/ru/kondopoga)._
- _Приморский край: **[Владивосток](https://cooord.ru/coord/ru/vladivostok)**, [Трудовое](https://cooord.ru/coord/ru/trudovoe), [Большой Камень](https://cooord.ru/coord/ru/bolshoy-kamen), [Артем](https://cooord.ru/coord/ru/artem), [Уссурийск](https://cooord.ru/coord/ru/ussuriysk)._

3. Самостоятельно соберите данные для каждого города, используя официальный источник:

➔ https://cooord.ru/

Данные должны включать:

- Полное название города
- Республика (субъект), к которой относится
- Географические координаты (широта, долгота) — Создайте две версии набора данных: с высокой точностью: координаты с 6 знаками и с  низкой точностью: те же координаты, округлённые до 2 знаков .

_На предлагаемом сайте для просмотра координат самая высокая точность - 5 знаков после запятой, поэтому ограничимся этим вариантом и двумя знаками после запятой._

- Часовой пояс —  уточните по внешним источникам, если не указан
- Указание, является ли город столицей республики

## Требования к реализации на Python

1. Организация данных

Реализуйте хранение информации о каждом городе с учётом природы данных.

Обеспечьте целостность и защиту от случайных изменений критически важных параметров.

Используйте разные структуры данных в зависимости от логики использования.

_В файле [CityClass.py](CityClass.py) описан класс города. Критически важные параметры - широта и долгота - определены внутри объекта с префиксом `_`, а также защищены декоратором `@property`._

Проведите анализ занимаемой памяти для двух наборов данных с различными точностями. Какой выигрыш в памяти? Целесообразно ли для данной задачи высокая точность?

_Наборы данных сгенерированы в файле [cities_data.py](cities_data.py). Также для них посчитана память:_

```
Размер списка с более точными координатами: 720 байт; с менее точными - 720 байт.
```

_Таким образом, высокая точность в плане памяти роли не играет._

2. Анализ расстояний

_Формула для расчета расстояний представлены в файле [distance.py](distance.py)._

Рассчитайте расстояние по прямой (в км) от столицы страны до каждого из выбранных городов.

Рассчитайте расстояние от столицы республики до каждого другого города в её составе.

_Расчеты есть в этом файле: [distance_calculation.py](distance_calculation.py)._

Определите:

Город, наиболее удалённый от столицы страны.

Город, наиболее удалённый от столицы своей республики.

Среднее расстояние между городами в рамках одной республики.

_Результаты анализа:_

```
Город, наиболее удаленный от столицы страны: по более точным координатам - Большой Камень, по менее точным - Большой Камень.
Город, наиболее удаленный от столицы республики: по более точным координатам - Костомукша, по менее точным - Костомукша.
Среднее расстояние между городами в рамках одной республики: по более точным координатам - 97.61945 км, по менее точным - 97.87 км.
Относительная погрешность расчетов: 0.26%.
```

Для расчёта используйте формулу гаверсинуса. Координаты должны быть в радианах. Как оптимально реализовать перевод в радианы? В каких единицах измерения целесообразно хранить координаты?

_Для перевода градусов в радианы оптимально использовать функцию `math.radians()`, которая специально предназначена для этой цели. Это то же самое, что умножить градус на $\frac{\pi}{180^{\circ}$. Координаты целесообразно хранить в градусах, потому что в градусах хранят географическую информацию большинство сайтов, да и для обработки удобно. К тому же, бесконечная дробь числа $\pi$ менее точная, чем $\frac{1}{3600}$ градуса (если смотреть в секундах)._

Проведите измерения для обоих наборов данных. Какова потеря в точности расстояния? Целесообразна ли для данной задачи высокая точность?

_Потери очень маленькие - всего 0.26%. Поэтому в высокой точности нет необходимости._

3. Анализ часовых поясов

Определите, все ли города одной республики находятся в одном часовом поясе.

_Да, все города каждой отдельной республики находятся в одном часовом поясе._

Выявите случаи, когда города разных республик имеют одинаковое время, если подобный факт свершился для вышей выборки.

_В представленной выборке не было выявлено таких случаев._

Проанализируйте, существует ли корреляция между долготой города и его часовым поясом.

_Да, существует._

Постройте вывод: можно ли однозначно определить часовой пояс по координатам?

_По координатам можно определить приблизительный часовой пояс, но для точного определения необходимо учитывать административное деление и актуальную информацию о часовых поясах регионов. Ведь мы теоретически знаем, что на каждые $15^\circ$ в среднем приходится 1 часовой пояс._

4. Анализ структур данных

Объясните, почему некоторые атрибуты объекта (например, координаты) реализованы как неизменяемые, а другие — как изменяемые.

_Координаты не могут измениться со временем, а остальные параметры (названия, часовой пояс, является ли столицей) могут, потому что В.В. может подписать соответствующий указ!_

Попробуйте выполнить операцию модификации одного из защищённых атрибутов. Зафиксируйте поведение системы.

_Попытка изменения данных отражена в файле [try_change_property.py](try_change_property.py). Вот ответ:_

```
Traceback (most recent call last):
  File "C:\Users\05kov\PycharmProjects\python_lab_1\try_change_property.py", line 4, in <module>
    low_moscow.latitude = 10
    ^^^^^^^^^^^^^^^^^^^
AttributeError: property 'latitude' of 'City' object has no setter
```

Проведите эксперимент: замените неизменяемую структуру на изменяемую. Как это повлияло на корректность результатов при последующих операциях?

_Особенно ничего не поменялось, кроме возможности изменять координаты. Единственное - случайное изменение критических параметров может повлечь за собой неверные результаты расчета расстояний и в принципе оценку погрешности._

## Вопросы (обязательны к ответу)
1.	Почему в некоторых республиках все города находятся в одном часовом поясе, а в других — нет? Как это связано с их географическим положением?

_Распределение городов по часовым поясам зависит от географической протяженности республики, от административного деления и политических решений._

2.	Может ли город, расположенный западнее другого, иметь более позднее местное время? Приведите пример из ваших данных и объясните причину. (если подобный факт свершился для вышей выборки)

_Такого в нашей выборке не было(_

3.	В каком случае изменение одного элемента в структуре данных приведёт к неожиданным последствиям в других частях программы? Продемонстрируйте на примере.

_Это может произойти, если мы будем ссылаться через приравнивание на какие-то данные, которые потом планируем изменить._

4.	Почему использование определённых типов данных предотвращает логические ошибки в геоанализе? Приведите пример, когда попытка модификации приводит к нарушению согласованности данных.

_Это гарантирует целостность данных и обеспечивает предсказуемость системы в целом._

5.	Можно ли считать, что часовой пояс является функцией от долготы? На основе ваших данных (если не попали в выборку, то нужно рассмотреть внешние источники) дайте аргументированный ответ с примерами отклонений.

_Вообще нет, это как-то не строго(_
